name: Trigger E2E testing in documentation repo
description: Triggers the E2E testing in the documentation using GitHub API.

runs:
  using: 'composite'
  steps:
    - name: Trigger Docs Repo Workflow
      env:
        GITHUB_TOKEN: ${{ secrets.GH_TOKEN_DOCS_DISPATCH }}
      run: |
        curl -X POST \
          -H "Accept: application/vnd.github.v3+json" \
          -H "Authorization: token $GITHUB_TOKEN" \
          https://api.github.com/repos/aws-amplify/docs/dispatches \
           -d '{"event_type":"e2e-test-trigger"}'
